use sglab02_lib::sg::imp::pea_bess_ana;
use std::env;
use std::error::Error;

#[tokio::main]
async fn main() -> Result<(), Box<dyn Error>> {
    let ath = env::args().nth(1).unwrap_or("?".to_string());
    match ath.as_str() {
        "p13_ana_test3" => sglib04::ld1::p13_ana_test3()?,
        "p13_ana_test2" => sglib04::ld1::p13_ana_test2()?,
        "p13_rd_lpraw" => sglib04::ld1::p13_rd_lpraw()?,
        "p13_pea_lv_solar" => sglib04::geo4::p13_pea_lv_solar().await?,
        "p13_re_plan" => sglib04::geo4::p13_re_plan().await?,
        "p13_ana_test1" => sglib04::geo4::p13_ana_test1()?,
        "p12_read_gpp" => sglib04::geo2::p12_read_gpp().await?,
        "p12_map_tr_aoj" => sglib04::geo3::p12_map_tr_aoj()?,
        "p12_map_tr_zone" => sglib04::geo3::p12_map_tr_zone()?,
        "p12_map_amp_pop" => sglib04::geo3::p12_map_amp_pop()?,
        "p12_map_muni_pop" => sglib04::geo3::p12_map_muni_pop()?,
        "p12_chk_muni" => sglib04::geo3::p12_chk_muni()?,
        "amp_popu_read" => sglib04::geo3::amp_popu_read().await?,
        "p12_read_zone" => sglib04::geo3::p12_read_zone()?,
        "p12_read_muni" => sglib04::geo3::p12_read_muni()?,
        "p12_read_amp" => sglib04::geo3::p12_read_amp()?,
        "p13_add_vol2" => sglib04::geo3::p13_add_vol2()?,
        "p13_add_vol" => sglib04::geo3::p13_add_vol()?,
        "p12_read_aoj" => sglib04::geo3::p12_read_aoj()?,
        "p12_read_gis2" => sglib04::geo3::p12_read_gis2()?,
        "p12_read_gis1" => sglib04::geo3::p12_read_gis1()?,
        "p12_add_der" => sglib04::geo3::p12_add_der()?,
        "p12_read_volta" => sglib04::geo2::p12_read_volta().await?,
        "p12_read_der" => sglib04::geo2::p12_read_der().await?,
        "p12_check_sbfd" => sglib04::geo2::p12_check_sbfd()?,
        "p11_form_sub" => sglib04::geo2::p11_form_sub()?,
        "p10_check_trans" => sglib04::geo2::p10_check_trans()?,
        "p9_set_cnl_trans" => sglib04::geo2::p9_set_cnl_trans()?,
        "pea_bess_ana" => pea_bess_ana().await?,
        "sub_all_coll" => sglib04::geo2::sub_all_coll()?,
        "draw_lp" => sglib04::geo2::draw_lp()?,
        "calc_lp_fd" => sglib04::geo2::calc_lp_fd()?,
        "calc_lp_sb" => sglib04::geo2::calc_lp_sb()?,
        "p9_check_lines" => sglib04::geo1::p9_check_lines()?,
        "p8_add_sw" => sglib04::geo1::p8_add_sw()?,
        "p8_read_sw" => sglib04::geo1::p8_read_sw()?,
        "p8_check_lines" => sglib04::geo1::p8_check_lines()?,
        "p7_add_tr_nodes2" => sglib04::geo1::p7_add_tr_nodes2()?,
        "p7_add_tr_nodes" => sglib04::geo1::p7_add_tr_nodes()?,
        "p6_read_transf" => sglib04::geo1::p6_read_transf()?,
        "p6_check_lines" => sglib04::geo1::p6_check_lines()?,
        "p5_add_met_cnl" => sglib04::geo1::p5_add_met_cnl()?,
        "p4_check_cnl" => sglib04::geo1::p4_check_cnl()?,
        "p3_read_meter" => sglib04::geo1::p3_read_meter()?,
        "p2_read_cnl" => sglib04::geo1::p2_read_cnl()?,
        "p2_adj_cnl" => sglib04::geo1::p2_adj_cnl()?,
        "p2_met_cnl_read" => sglib04::geo1::p2_met_cnl_read()?,
        "p1_line_node" => sglib04::geo1::p1_line_node()?,
        "met_vs_cnl" => sglib04::geo1::met_vs_cnl()?,
        "bill_to_area" => sglib04::geo1::bill_to_area()?,
        "bill_to_cnl" => sglib04::geo1::bill_to_cnl()?,
        "bill_to_met" => sglib04::geo1::bill_to_met()?,
        "met_mp" => sglib04::geo1::met_mp()?,
        "cnl_ins" => sglib04::geo1::cnl_ins_mp()?,
        "rd_met1" => sglib04::geo1::rd_met1()?,
        "rdcnl2" => sglib04::geo1::rdcnl2()?,
        "rdbil1" => sglib04::geo1::read_bill1().await?,
        "chkfld" => sglib04::geo1::chkfld()?,
        //"rdcnl1" => sglib04::geo1::rdcnl1()?,
        //"rdbil5" => sglib04::geo1::read_bill5().await?,
        //"rdbil4" => sglib04::geo1::read_bill4().await?,
        //"rdbil3" => sglib04::geo1::read_bill3().await?,
        //"rdbil2" => sglib04::geo1::read_bill2().await?,
        //"bi2tx" => sglib04::geo1::bill_to_txmt1().await?,
        "poly1" => sglib04::geo1::poly_read1()?,
        "amp1" => sglib04::geo1::amp_popu().await?,
        "calc4" => sglib04::web1::ben_calc4().expect("?"),
        "chk3" => sglib04::geo1::chk3()?,
        "chk2" => sglib04::geo1::chk2()?,
        "chk1" => sglib04::geo1::chk1()?,
        "calc3" => sglib04::calc::calc3()?,
        "calc2" => sglib04::calc::calc2()?,
        "calc1" => sglib04::calc::calc1()?,
        "map4" => sglib04::aoj::map4()?,
        "draw1" => sglib04::aoj::sub_lp_draw1()?,
        "map1a" => sglib04::aoj::map1a()?,
        "ld_map3" => sglib04::aoj::ld_map3()?,
        "map3" => sglib04::aoj::map3()?,
        "map2" => sglib04::aoj::map2()?,
        "map1" => sglib04::aoj::map1()?,
        "aoj2" => sglib04::aoj::ld_aoj2()?,
        "aojzo" => sglib04::aoj::aoj_and_zone(),
        "zone" => sglib04::aoj::read_zone(),
        "aoj1" => sglib04::aoj::read_aoj(),
        "calc0" => sglib04::web1::ben_calc_0().expect("?"),
        "sb_tr" => sglib04::prc41::sb_tr().expect("?"),
        "web1" => sglib04::web1::run().await.expect("?"),
        "P42" => sglab02_lib::sg::prc4::prc42().await.expect("?"),
        "P54" => sglab02_lib::sg::prc5::prc54().await.expect("?"),
        "P82" => sglab02_lib::sg::prc8::prc82().await.expect("?"),
        "P83" => sglab02_lib::sg::prc8::prc83(),
        "P84" => sglab02_lib::sg::prc8::prc84(),
        "P85" => sglab02_lib::sg::prc8::prc85(),
        "P48" => sglab02_lib::sg::prc4::prc48(), // ev, et, ?eb
        "p8_ev" => sglab02_lib::sg::prc8::p8_ev(),
        "p8_et" => sglab02_lib::sg::prc8::p8_et(),
        "p8_eb" => sglab02_lib::sg::prc8::p8_eb(),
        "p8_mv_re" => sglab02_lib::sg::prc8::p8_mv_re(),
        "p8_lv_re" => sglab02_lib::sg::prc8::p8_lv_re(),
        "p8_sell_old_mt" => sglab02_lib::sg::prc8::p8_sell_old_mt(),
        "p8_rep_cut" => sglab02_lib::sg::prc8::p8_rep_cut(),
        "p8_end_cut" => sglab02_lib::sg::prc8::p8_end_cut(),
        "p8_read_cut" => sglab02_lib::sg::prc8::p8_read_cut(),
        "p8_conn_cut" => sglab02_lib::sg::prc8::p8_conn_cut(),
        "p8_bess_1" => sglab02_lib::sg::prc8::p8_bess_1(),
        "p31" => sglab02_lib::sg::prc3::prc31().await.expect("?"),
        "rd_lp23" => sglib03::prc1::rd_lp23(),
        "lp23_mo1" => sglib03::prc1::lp23_mo1(),
        "lp24_csv" => sglib03::prc1::read_lp24_csv().expect("?"),
        "lp_ana1" => sglib03::prc1::lp_ana1("2024").expect("?"),
        "lp_ana2" => sglib03::prc1::lp_ana2().expect("?"),
        "lp_lp24" => sglib03::prc1::read_lp_csv("2024").expect("?"),
        "lp_lp23" => sglib03::prc1::read_lp_csv("2023").expect("?"),
        "lp_ana3" => sglib03::prc2::lp_ana3().expect("?"),
        "lp_ana4" => sglib03::prc2::lp_ana4().expect("?"),
        "lp_web1" => sglib03::prc2::lp_web1().await.expect("?"),
        "lp_ana5" => sglib03::prc2::lp_ana5(),
        "p4_ben1" => sglib03::prc4::p4_ben1(),
        "p4_ben2" => sglib03::prc4::p4_ben2(),
        "p4_ben3" => sglib03::prc4::p4_ben3(),
        "p8_tou" => sglab02_lib::sg::prc8::p8_tou(),
        "ben_bess3" => sglib03::prc2::ben_bess3(),
        "ev_calc" => sglib03::p_31::ev_calc(),
        //"ev_reg" => sglib03::p_31::ev_reg_calc(),
        "pv_ev_proj" => sglib03::p_31::pv_ev_proj(),
        "sb_ev_proj" => sglib03::p_31::sb_ev_proj(),
        "pv_et_proj" => sglib03::p_31::pv_et_proj(),
        "sb_et_proj" => sglib03::p_31::sb_et_proj(),
        "pv_eb_proj" => sglib03::p_31::pv_eb_proj(),
        "sb_eb_proj" => sglib03::p_31::sb_eb_proj(),
        _ => println!("NG"),
    }
    Ok(())
}
